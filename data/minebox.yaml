---
lookup_options:
  "minebox::(/*)":
    merge:
      strategy: hash
      #merge_hash_arrays: true

minebox::cpu_mining: true
minebox::base_path: '/minebox'
minebox::storage_path: undef
minebox::miner_user: 'miner'
minebox::miner_group: 'miners'
minebox::miner_user_pwd: undef
minebox::miner_user_ssh_key: undef
minebox::miner_user_groups:
  - 'adm'
  - 'sudo'
  - 'video'
  - 'docker'

minebox::packages_base:
  - "linux-headers-%{facts.kernelrelease}"
  - 'libcurl3'
  - 'build-essential'
  - 'dkms'
  - 'git'
  - 'screen'
  - 'vim'
  - 'nmap'
  - 'ncdu'
  - 'busybox'
  - 'inxi'
  - 'links'
  - 'unzip'
  - 'openssh-server'
  - 'htop'

minebox::packages_xorg:
  - xserver-xorg
  - xserver-xorg-core
  - xserver-xorg-input-evdev
  - xserver-xorg-video-dummy
  - x11-xserver-utils
  - xdm

minebox::folders:
  - drivers
  - scripts
  - files
  - miners
  - tools

minebox::nv_conf:
  gpus: undef
  enable: false
  use_docker: true
  gpu_fan: 0
  driver: 'nvidia-384'
  docker_pkg: 'nvidia-docker2'

minebox::amd_conf:
  gpus: undef
  enable: false
  use_docker: true
  gpu_fan: 0
  driver: 'amdgpu-pro-17.50-511655'

minebox::miners:
  amd:
  nv:
    dstm-equihash:
      version: 0.5.8
      source: 'https://s3-us-west-1.amazonaws.com/mastermine/minebox/zm_0.5.8.tar.gz'
      file: zm_0.5.8.tar.gz
      creates: zm
    ewbf-equihash:
      version: 0.3.4b
      source: 'https://s3-us-west-1.amazonaws.com/mastermine/minebox/Zec_Miner_0.3.4b_Linux_Bin.tar.gz'
      file: Zec_Miner_0.3.4b_Linux_Bin.tar.gz
      creates: miner
  hybrid:
    claymore-ethash:
      version: 10.3
      source: 'https://s3-us-west-1.amazonaws.com/mastermine/minebox/claymore_Ethereum%2BDecred_Siacoin_Lbry_Pascal_gpu_v10.3_+LINUX.tar.gz'
      file: claymore.tar.gz
      creates: ethdcrminer64
    claymore-equihash:
      version: 12.6
      source: 'https://s3-us-west-1.amazonaws.com/mastermine/minebox/claymore_ZCash_AMD_GPU_Miner_v12.6_LINUX.tar.gz'
      file: claymore-equi.tar.gz
      creates: zecminer64
    ethminer:
      version: 0.12.0
      source: 'https://github.com/ethereum-mining/ethminer/releases/download/v0.12.0/ethminer-0.12.0-Linux.tar.gz'
      file: ethminer.tar.gz
      creates: ethminer

minebox::tools:
  hybrid:
  nv:
  amd:
    atiflash:
      version: 4.25
      source: 'https://s3-us-west-1.amazonaws.com/mastermine/minebox/atiflash_linux.tar.xz'
      files: atiflash.tar.xz
      creates: atiflash
      create_subdir: false
